# Unity λ¦¬λ“¬κ²μ„ μ°¨νΈ μ—λ””ν„°

Unity κΈ°λ° λ¦¬λ“¬κ²μ„μ„ μ„ν• μ „λ¬Έμ μΈ μ°¨νΈ μ—λ””ν„° μ‹μ¤ν…μ…λ‹λ‹¤. ν—κ°€λ μ μ €κ°€ μ§μ ‘ λ…Έλλ¥Ό λ“¤μΌλ©΄μ„ μ°¨νΈ(λ…ΈνΈλ¨μ)λ¥Ό μ μ‘ν•  μ μλ„λ΅ μ„¤κ³„λμ—μµλ‹λ‹¤.

## μ£Όμ” κΈ°λ¥

### πµ λ…ΈνΈ λ°°μΉ μ‹μ¤ν…
- **Nν‚¤**: μΌλ°λ…ΈνΈ λ¨λ“ - λ§μ°μ¤ μ™Όμ½ ν΄λ¦­ + λ“λκ·Έλ΅ κ° λ μΈμ— μΌλ°λ…ΈνΈ λ°°μΉ
- **Lν‚¤**: λ΅±λ…ΈνΈ λ¨λ“ - λ§μ°μ¤ μ™Όμ½ ν΄λ¦­ + λ“λκ·Έλ΅ λ΅±λ…ΈνΈ λ°°μΉ (μ‹μ‘μ κ³Ό λμ  μ„¤μ •)
- κ·Έλ¦¬λ“ μ¤λƒ… κΈ°λ¥μΌλ΅ μ •ν™•ν• νƒ€μ΄λ° λ°°μΉ

### π― λ μΈ μ‹μ¤ν…
- **+/-ν‚¤**: λ μΈ μ μ΅°μ  (4, 5, 6, 7, 8, 10κ° λ μΈ μ§€μ›)
- λ μΈ μμ— λ”°λ¥Έ UI μλ™ μ΅°μ •
- μ‹κ°μ  λ μΈ κ°€μ΄λ“λΌμΈ

### π” μ¤λ””μ¤ μ‹μ¤ν…
- **AES μ•”νΈν™”λ .wav νμΌ** λ΅λ“ λ° μ¬μƒ μ§€μ›
- **Shift + ν™”μ‚΄ν‘**: μ°¨νΈ νΈμ§‘μ„ μ„ν• μ¬μƒ μ†λ„ λ³€κ²½ (0.1x ~ 2.0x)
- **Alt + ν™”μ‚΄ν‘**: μ¤λ””μ¤ μ¤ν”„μ…‹ ms λ‹¨μ„ μ΅°μ •
- **Ctrl + ν™”μ‚΄ν‘**: μ¤ν¬λ΅¤ μ†λ„ κ°•μ  λ²”μ„ μ ν•

### π“ λ§λ”” λ° λ¶„ν•  μ‹μ¤ν…
- **1ν‚¤**: 1/4 λ¶„ν•  (κΈ°λ³Έ)
- **2ν‚¤**: 1/8 λ¶„ν• 
- **3ν‚¤**: 1/16 λ¶„ν• 
- μ μ‘ λ¨λ“μ™€ λ―Έλ¦¬λ³΄κΈ° λ¨λ“ κµ¬λ¶„

### π‘οΈ λ―Έλ¦¬λ³΄κΈ° μ‹μ¤ν…
- **Pν‚¤**: λ―Έλ¦¬λ³΄κΈ° λ¨λ“ μ§„μ…
- μ‚¬μ©μ μ„¤μ • μ¤ν¬λ΅¤ μ†λ„λ΅ λ…ΈνΈκ°€ ν•κ°•
- μ‹¤μ  ν”λ μ΄ ν™κ²½κ³Ό λ™μΌν• λ…ΈνΈ μ΄λ™

### β™οΈ μ¶”κ°€ κΈ°λ¥
- **Ctrl + S/O**: μ°¨νΈ λ°μ΄ν„° μ €μ¥/λ΅λ“
- **Ctrl + Z/Y**: μ‹¤ν–‰ μ·¨μ†/λ‹¤μ‹ μ‹¤ν–‰
- **Ctrl + A**: μ „μ²΄ λ…ΈνΈ μ„ νƒ
- **Delete**: μ„ νƒλ λ…ΈνΈ μ‚­μ 
- **F1**: λ„μ›€λ§ ν‘μ‹
- **F2**: μ„¤μ • ν¨λ„ μ—΄κΈ°

## μ„¤μΉ λ° μ„¤μ •

### ν•„μ” μ΅°κ±΄
- Unity 2022.3 LTS μ΄μƒ
- FMOD μ¤λ””μ¤ μ‹μ¤ν… (ν¬ν•¨λ¨)

### μ„¤μΉ λ°©λ²•
1. ν”„λ΅μ νΈ νμΌμ„ Unityμ—μ„ μ—΄κΈ°
2. `Assets/ChartEditor.cs`λ¥Ό κ²μ„ μ¤λΈμ νΈμ— μ¶”κ°€
3. ν•„μ”ν• UI μ”μ†λ“¤ μ—°κ²°
4. μ¤λ””μ¤ νμΌμ„ `StreamingAssets/Audio/` ν΄λ”μ— λ°°μΉ

## νμΌ κµ¬μ΅°

```
Assets/
β”β”€β”€ Scripts/
β”‚   β”β”€β”€ ChartEditor.cs          # λ©”μΈ μ—λ””ν„° μ¤ν¬λ¦½νΈ
β”‚   β”β”€β”€ ChartData.cs            # μ°¨νΈ λ°μ΄ν„° κµ¬μ΅°
β”‚   β”β”€β”€ ChartValidator.cs       # μ°¨νΈ μ ν¨μ„± κ²€μ¦
β”‚   β”β”€β”€ ChartEditorManager.cs   # μ—λ””ν„° λ§¤λ‹μ €
β”‚   β”β”€β”€ NoteData.cs             # λ…ΈνΈ λ°μ΄ν„° ν΄λμ¤
β”‚   β”β”€β”€ AudioManager.cs         # μ¤λ””μ¤ κ΄€λ¦¬
β”‚   β”β”€β”€ EditorNote.cs           # λ…ΈνΈ ν”„λ¦¬νΉ μ»¨νΈλ΅¤λ¬
β”‚   β”β”€β”€ EditorLane.cs           # λ μΈ ν”„λ¦¬νΉ μ»¨νΈλ΅¤λ¬
β”‚   β”β”€β”€ TimelineDisplay.cs      # νƒ€μ„λΌμΈ ν‘μ‹
β”‚   β”β”€β”€ AudioVisualization.cs   # μ¤λ””μ¤ μ‹κ°ν™”
β”‚   β””β”€β”€ ChartEditorTest.cs      # ν…μ¤νΈ μ¤ν¬λ¦½νΈ
β”β”€β”€ Prefabs/
β”‚   β”β”€β”€ NotePrefab.prefab
β”‚   β”β”€β”€ LongNotePrefab.prefab
β”‚   β”β”€β”€ LanePrefab.prefab
β”‚   β””β”€β”€ EditorUI.prefab
β””β”€β”€ StreamingAssets/
    β””β”€β”€ Audio/
        β”β”€β”€ BGM/
        β”β”€β”€ KeySounds/
        β””β”€β”€ Encrypted/
```

## μ‚¬μ©λ²•

### κΈ°λ³Έ μ°¨νΈ μ μ‘ κ³Όμ •

1. **μ¤λ””μ¤ λ΅λ“**
   ```csharp
   chartEditor.LoadAudioFile("path/to/audio.wav");
   // λλ” μ•”νΈν™”λ νμΌμ κ²½μ°
   chartEditor.LoadEncryptedAudioFile(encryptedAudioAsset);
   ```

2. **BPM μ„¤μ •**
   - Inspectorμ—μ„ μ§μ ‘ μ„¤μ •ν•κ±°λ‚ μ½”λ“λ΅ μ΅°μ •

3. **λ μΈ μ μ΅°μ **
   - `+/-` ν‚¤λ΅ 4~10κ° λ μΈ μ„ νƒ

4. **λ…ΈνΈ λ°°μΉ**
   - `N` ν‚¤λ΅ μΌλ°λ…ΈνΈ λ¨λ“ μ„ νƒ
   - λ§μ°μ¤λ΅ ν΄λ¦­ν•μ—¬ λ…ΈνΈ λ°°μΉ
   - `L` ν‚¤λ΅ λ΅±λ…ΈνΈ λ¨λ“ μ„ νƒ ν›„ λ“λκ·Έλ΅ λ°°μΉ

5. **λ―Έλ¦¬λ³΄κΈ°**
   - `P` ν‚¤λ΅ λ―Έλ¦¬λ³΄κΈ° λ¨λ“ μ§„μ…
   - μ‹¤μ  κ²μ„κ³Ό κ°™μ€ ν™κ²½μ—μ„ ν…μ¤νΈ

6. **μ €μ¥**
   - `Ctrl + S`λ΅ μ°¨νΈ μ €μ¥

### κ³ κΈ‰ κΈ°λ¥

#### μ‚¬μ©μ μ •μ μ„¤μ •
```csharp
var settings = ChartEditorManager.Instance.settings;
settings.noteSize = 1.2f;
settings.scrollSpeed = 10f;
settings.autoSave = true;
ChartEditorManager.Instance.ApplySettings();
```

#### μ°¨νΈ μ ν¨μ„± κ²€μ‚¬
```csharp
var result = ChartValidator.ValidateChart(chartData);
if (!result.IsValid)
{
    Debug.LogError("μ°¨νΈ μ¤λ¥: " + result.GetSummary());
}
```

#### λ…ΈνΈ μµμ ν™”
```csharp
var optimizedChart = ChartOptimizer.OptimizeChart(originalChart);
```

## API μ°Έμ΅°

### ChartEditor μ£Όμ” λ©”μ„λ“
- `LoadAudioFile(string filePath)`: μΌλ° μ¤λ””μ¤ νμΌ λ΅λ“
- `LoadEncryptedAudioFile(TextAsset asset)`: μ•”νΈν™”λ μ¤λ””μ¤ νμΌ λ΅λ“
- `SetPlaybackSpeed(float speed)`: μ¬μƒ μ†λ„ μ„¤μ •
- `SetAudioOffset(float offsetMs)`: μ¤λ””μ¤ μ¤ν”„μ…‹ μ„¤μ •
- `SaveChart()`: μ°¨νΈ μ €μ¥
- `LoadChart()`: μ°¨νΈ λ΅λ“

### ChartData μ£Όμ” μ†μ„±
- `songTitle`: κ³΅ μ λ©
- `artist`: μ•„ν‹°μ¤νΈ
- `bpm`: BPM
- `laneCount`: λ μΈ μ
- `notes`: λ…ΈνΈ λ°μ΄ν„° λ¦¬μ¤νΈ
- `audioOffset`: μ¤λ””μ¤ μ¤ν”„μ…‹

## ν…μ¤νΈ

ν”„λ΅μ νΈμ—λ” μλ™ ν…μ¤νΈ μ‹μ¤ν…μ΄ ν¬ν•¨λμ–΄ μμµλ‹λ‹¤:

```csharp
// ν…μ¤νΈ μ‹¤ν–‰
ChartEditorTest testRunner = FindObjectOfType<ChartEditorTest>();
testRunner.RunTestsManually();
```

## μ„±λ¥ μµμ ν™”

- μµμ ν™”λ λ…ΈνΈ λ λ”λ§μΌλ΅ 60fps μ μ§€
- λ©”λ¨λ¦¬ ν¨μ¨μ μΈ μ¤λΈμ νΈ ν’€λ§
- μ‹¤μ‹κ°„ μ¤λ””μ¤ λ™κΈ°ν™”
- μ¤λ§νΈ κ·Έλ¦¬λ“ μƒμ„± (ν•„μ”ν• λ¶€λ¶„λ§)

## ν‚¤λ³΄λ“ λ‹¨μ¶•ν‚¤ μ „μ²΄ λ©λ΅

| ν‚¤ | κΈ°λ¥ |
|---|---|
| N | μΌλ° λ…ΈνΈ λ¨λ“ |
| L | λ΅± λ…ΈνΈ λ¨λ“ |
| P | λ―Έλ¦¬λ³΄κΈ° λ¨λ“ ν† κΈ€ |
| + | λ μΈ μ μ¦κ°€ |
| - | λ μΈ μ κ°μ† |
| 1 | 1/4 λ¶„ν•  |
| 2 | 1/8 λ¶„ν•  |
| 3 | 1/16 λ¶„ν•  |
| Space | μ¬μƒ/μΌμ‹μ •μ§€ |
| Shift + β†‘/β†“ | μ¬μƒ μ†λ„ μ΅°μ  |
| Ctrl + β†‘/β†“ | μ¤ν¬λ΅¤ μ†λ„ μ΅°μ  |
| Alt + β†/β†’ | μ¤λ””μ¤ μ¤ν”„μ…‹ μ΅°μ  |
| Ctrl + S | μ €μ¥ |
| Ctrl + O | λ΅λ“ |
| Ctrl + Z | μ‹¤ν–‰ μ·¨μ† |
| Ctrl + Y | λ‹¤μ‹ μ‹¤ν–‰ |
| Ctrl + A | μ „μ²΄ μ„ νƒ |
| Delete | μ„ νƒλ λ…ΈνΈ μ‚­μ  |
| F1 | λ„μ›€λ§ ν‘μ‹ |
| F2 | μ„¤μ • ν¨λ„ |
| ESC | ν¨λ„ λ‹«κΈ° |

## λ¬Έμ  ν•΄κ²°

### μΌλ°μ μΈ λ¬Έμ λ“¤

1. **μ¤λ””μ¤κ°€ λ΅λ“λμ§€ μ•λ” κ²½μ°**
   - νμΌ κ²½λ΅ ν™•μΈ
   - μ¤λ””μ¤ ν•μ‹ μ§€μ› μ—¬λ¶€ ν™•μΈ (.wav κ¶μ¥)
   - StreamingAssets ν΄λ” ν™•μΈ

2. **λ…ΈνΈκ°€ μ λ€λ΅ λ°°μΉλμ§€ μ•λ” κ²½μ°**
   - κ·Έλ¦¬λ“ μ¤λƒ… μ„¤μ • ν™•μΈ
   - BPM μ„¤μ • ν™•μΈ
   - λ μΈ μ μ„¤μ • ν™•μΈ

3. **μ„±λ¥ μ΄μ**
   - μµλ€ ν‘μ‹ λ…ΈνΈ μ μ¤„μ΄κΈ°
   - κ·Έλ¦¬λ“ λΌμΈ μ μ¤„μ΄κΈ°
   - μ¤λ””μ¤ ν’μ§ μ΅°μ •

## λΌμ΄μ„ μ¤

μ΄ ν”„λ΅μ νΈλ” MIT λΌμ΄μ„ μ¤ ν•μ— μ κ³µλ©λ‹λ‹¤.

## κΈ°μ—¬ν•κΈ°

λ²„κ·Έ λ¦¬ν¬νΈλ‚ κΈ°λ¥ μ μ•μ€ GitHub Issuesλ¥Ό ν†µν•΄ μ μ¶ν•΄μ£Όμ„Έμ”.

---

λ” μμ„Έν• μ •λ³΄λ” ν”„λ΅μ νΈ λ‚΄ μ¤ν¬λ¦½νΈμ μ£Όμ„μ„ μ°Έμ΅°ν•μ„Έμ”.